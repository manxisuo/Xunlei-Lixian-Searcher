!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.FuzzySearch=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function n(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(e(this,n),0==t.length)throw new Error("We need an array containing the search list");this.list=t,this.keys=r,this.options=n.extend({caseSensitive:!1,sort:!1},i)}return t(n,[{key:"search",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=[];if(""==e)return this.list;for(var r=0;r<this.list.length;r++){var i=this.list[r];if(0==this.keys.length){var o=n.isMatch(i,e,this.options.caseSensitive);o&&t.push({item:i,score:o})}else e:for(var s=0;s<this.keys.length;s++)for(var a=n.getDescendantProperty(i,this.keys[s]),c=0;c<a.length;c++){var l=n.isMatch(a[c],e,this.options.caseSensitive);if(l){t.push({item:i,score:l});break e}}}return this.options.sort&&t.sort(function(e,t){return e.score-t.score}),t.map(function(e){return e.item})}}],[{key:"extend",value:function(){for(var e={},t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];for(var o=0;o<r.length;o++){var s=r[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&("[object Object]"===Object.prototype.toString.call(s[a])?e[a]=n.extend(e[a],s[a]):e[a]=s[a])}return e}},{key:"getDescendantProperty",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,l=void 0;if(t){if(s=t.indexOf("."),-1!==s?(i=t.slice(0,s),o=t.slice(s+1)):i=t,a=e[i],null!==a&&void 0!==a)if(o||"string"!=typeof a&&"number"!=typeof a)if("[object Array]"===Object.prototype.toString.call(a))for(c=0,l=a.length;l>c;c++)n.getDescendantProperty(a[c],o,r);else o&&n.getDescendantProperty(a,o,r);else r.push(a)}else r.push(e);return r}},{key:"isMatch",value:function(e,t,n){n||(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase());for(var r=0,i=[],o=t.split(""),s=0;s<o.length;s++){var a=o[s];if(r=e.indexOf(a,r),-1==r)return!1;i.push(r),r++}for(var c=1,l=0;l<i.length;l++)l!=i.length-1&&(c+=i[l+1]-i[l]);return c}}]),n}();return n});
//# sourceMappingURL=fuzzy-search.min.js.map
